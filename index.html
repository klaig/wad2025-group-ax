<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Homework 1</title>
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Header -->
    <header id="main-header">
        <nav class="navbar">
            <!-- Left side: navigation links -->
            <div class="nav-links">
                <a href="index.html" class="nav-btn">Home</a>
                <a href="addPost.html" class="nav-btn">Add Post</a>
            </div>

            <!-- Right side: profile picture -->
            <div class="profile-pic">
                <img src="images/big-profile-pic.png" alt="PFP" id="profile-icon">
                <div class="dropdown-menu" id="dropdown">
                    <p id="dropdown-name"></p>
                    <p id="dropdown-email"></p>
                    <a href="#" id="logout-btn">Logout</a>
                </div>
            </div>
        </nav>
    </header>

    <!-- Main content -->
    <main id="main-container">
        <!-- Left empty sidebar -->
        <aside class="sidebar sidebar-left"></aside>

        <!-- Center area -->
        <section class="feed">
            <!-- Post 1 -->
            <article class="post">
                <div class="post-header">
                    <img src="images/icons8-test-account-50.png" alt="PFP" class="post-avatar">
                    <span class="post-date">Oct 14, 2022</span>
                </div>
                <div class="post-content">
                    <img src="images/stock1.jpg" alt="Post image" class="post-image">
                    <p>Yes very nice wood</p>
                </div>
                <div class="post-footer">
                    <button class="like-btn"><i class="fa-regular fa-thumbs-up"></i> Like</button>
                </div>
            </article>

            <!-- Post 2 -->
            <article class="post">
                <div class="post-header">
                    <img src="images/icons8-test-account-50.png" alt="PFP" class="post-avatar">
                    <span class="post-date">Oct 4, 2022</span>
                </div>
                <div class="post-content">
                    <p>Anyone knows in which room is the lab today?</p>
                </div>
                <div class="post-footer">
                    <button class="like-btn"><i class="fa-regular fa-thumbs-up"></i> Like</button>
                </div>
            </article>

            <!-- Post 3 -->
            <article class="post">
                <div class="post-header">
                    <img src="images/icons8-test-account-50.png" alt="User avatar" class="post-avatar">
                    <span class="post-date">Sep 28, 2022</span>
                </div>
                <div class="post-content">
                    <img src="images/tartu2022.jpg" alt="Post image" class="post-image">
                    <p >Tartu 2022</p>
                </div>
                <div class="post-footer">
                    <button class="like-btn"><i class="fa-regular fa-thumbs-up"></i> Like</button>
                </div>
            </article>

            <!-- Post 4 -->
            <article class="post">
                <div class="post-header">
                    <img src="images/icons8-test-account-50.png" alt="User avatar" class="post-avatar">
                    <span class="post-date">Sep 15, 2022</span>
                </div>
                <div class="post-content">
                    <p >Just finished my Web Development assignment!</p>
                </div>
                <div class="post-footer">
                    <button class="like-btn"><i class="fa-regular fa-thumbs-up"></i> Like</button>
                </div>
            </article>

            <!-- Post 5 -->
            <article class="post">
                <div class="post-header">
                    <img src="images/icons8-test-account-50.png" alt="User avatar" class="post-avatar">
                    <span class="post-date">Sep 10, 2022</span>
                </div>
                <div class="post-content">
                    <img src="images/potatoes.jpg" alt="Post image" class="post-image">
                    <p >I love potatoes</p>
                </div>
                <div class="post-footer">
                    <button class="like-btn"><i class="fa-regular fa-thumbs-up"></i> Like</button>
                </div>
            </article>
        </section>

        <!-- Right empty sidebar -->
        <aside class="sidebar sidebar-right"></aside>
    </main>

    <!-- Footer -->
    <footer id="main-footer">
        <p>Footer</p>
    </footer>

    <!-- Script for profile dropdown and logout -->
    <script>
        const profileIcon = document.getElementById("profile-icon");
        const dropdown = document.getElementById("dropdown");
        const nameField = document.getElementById("dropdown-name");
        const emailField = document.getElementById("dropdown-email");
        const logoutBtn = document.getElementById("logout-btn");
        // Load user info from local storage or get defaults
        const username = localStorage.getItem("username") || "John Doe";
        const email = localStorage.getItem("email") || "john.doe@ut.ee";

        nameField.textContent = username;
        emailField.textContent = email;

        // Toggle dropdown on profile icon click
        profileIcon.addEventListener("click", () => {
            dropdown.style.display = dropdown.style.display === "block" ? "none" : "block";
        });

        // Close dropdown when clicking outside
        document.addEventListener("click", (e) => {
            if (!profileIcon.contains(e.target) && !dropdown.contains(e.target)) {
            dropdown.style.display = "none";
            }
        });

        // Logout clears localstorage and redirects
        logoutBtn.addEventListener("click", (e) => {
            e.preventDefault();
            localStorage.clear();
            window.location.href = "login.html";
        });
    </script>

</body>
</html>
