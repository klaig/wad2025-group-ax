<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
        <link rel="stylesheet" href="styles.css">
        <title>Login</title>
    </head>
    <body>
        <!-- Header -->
        <header id="main-header">
            <nav class="navbar">
                <!-- Left side: navigation links -->
                <div class="nav-links">
                    <a href="index.html" class="nav-btn">Home</a>
                    <a href="addPost.html" class="nav-btn">Add Post</a>
                </div>

                <!-- Right side: profile picture -->
                <div class="profile-pic">
                    <a href="login.html">
                        <img src="images/big-profile-pic.png" alt="PFP">
                    </a>
                </div>
            </nav>
        </header>

        <!-- Login content -->
        <main id="login-container">
            <section class="login-card">
                <h1 class="login-title">Welcome to PostIt</h1>
                <p class="login-subtitle">
                    <strong><a class="link">Create an account</a></strong>
                    <span class="muted"> or </span>
                    <strong>Please login</strong>
                </p>
                <!-- Login form -->
                <form action="index.html" method="get" class="login-form">
                    <!-- Email input -->
                    <div class="form-group">
                        <label for="email">Email</label>
                        <input
                            class="login-input"
                            type="email"
                            id="email"
                            name="email"
                            placeholder="you@example.com"
                            required
                        >
                    </div>

                    <!-- Password input -->
                    <div class="form-group">
                        <label for="password">Password</label>
                        <input
                            class="login-input"
                            type="password"
                            id="password"
                            name="password"
                            placeholder="••••••••"
                            minlength="1"
                            required
                        >
                    </div>

                    <!-- Log in button and forgot password -->
                    <div class="actions">
                        <button type="submit" class="create-post" id="login-btn">Log in</button>
                        <p class="forgot"><a class="link">Forgot password?</a></p>
                    </div>
                </form>
            </section>
        </main>

        <!-- Footer -->
        <footer id="main-footer">
            <p>Footer</p>
        </footer>

        <!-- Script for saving login info in localstorage -->
        <script>
            const loginForm = document.querySelector(".login-form");
            loginForm.addEventListener("submit", (e) => {
            e.preventDefault();
            const email = document.querySelector("#email").value;
            localStorage.setItem("username", email.split("@")[0]);
            localStorage.setItem("email", email);
            window.location.href = "index.html";
            });
        </script>
    </body>
</html>